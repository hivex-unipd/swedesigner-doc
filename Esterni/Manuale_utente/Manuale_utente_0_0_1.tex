% Analisi dei Requisiti
% da compilare con il comando pdflatex Analisi_dei_requisiti_x.x.x.tex

\input{../../util/hx-ambiente}

\version{0.0.1}
\creaz{2 aprile 2017}
\author{\LB, \GG, \AZ}
\supervisor{\PB}
\uso{esterno}
\dest{utente}
\title{Manuale Utente}

\begin{document}
\maketitle
\include{diario}
\tableofcontents





%%%%%%%%%%%%%%%%
%%  Introduzione
%%%%%%%%%%%%%%%%

\section{Introduzione}

\subsection{Scopo del documento}
Questo manuale spiega le funzionalità e le modalità d'utilizzo dell'applicazione \proj. Esso vuole essere sia una guida introduttiva sia un riferimento completo per l'utilizzo del prodotto.

\subsection{Pubblico}
Il manuale è rivolto agli utenti del prodotto. Assumiamo che l'utente di \proj{} possegga delle conoscenze almeno basilari nel campo della programmazione ad oggetti e della progettazione di software; in particolare, assumiamo che l'utente conosca il significato dei seguenti termini:
\begin{itemize}
	\item classe;
	\item oggetto;
	\item UML;
	\item diagramma UML delle classi;
	\item istruzione;
	\item ciclo;
	\item condizione.
\end{itemize}

\subsection{Scopo del prodotto}
\scopo

\subsection{Glossario}
\presgloss





%%%%%%%%%%%%%
%%  Requisiti
%%%%%%%%%%%%%

\section{Requisiti} \label{sec:requisiti}

\proj{} è un'applicazione web: l'utente vi accede quindi con un browser web. Assicuriamo il funzionamento del nostro prodotto sui seguenti browser (o su loro versioni successive):
\begin{itemize} % ho preso quelli che hanno ecmascript 6, all'incirca...
	\item Microsoft Edge 13;
	\item Mozilla Firefoz 45;
	\item Apple Safari 10;
	\item Google Chrome 57;
	\item Opera 44.
\end{itemize}
Sul browser dev'essere attivato JavaScript.





%%%%%%%%%%%%
%%  Utilizzo
%%%%%%%%%%%%

\section{Utilizzo} \label{sec:utilizzo} % GUI, Java, JSON, API REST, (test effettuati?), screenshot, ...

Di seguito descriviamo come utilizzare \proj{} per progettare e generare un'applicazione. La sezione \ref{sec:gui} introduce brevemente l'\textbf{interfaccia grafica}; le sezioni \ref{sec:new}, \ref{sec:save} e \ref{sec:load} descrivono come creare, salvare e caricare l'insieme di diagrammi che rappresentano il \textbf{progetto di un'applicazione}; infine, la sezione \ref{sec:gen} spiega come generare un \textbf{programma eseguibile} a partire dai diagrammi di un progetto.



\subsection{Interfaccia grafica} \label{sec:gui}

Potete accedere a \proj{} dall'indirizzo \url{\webroot}. Vi viene subito presentato un diagramma delle classi vuoto, sul quale potete iniziare un nuovo progetto. Ai lati e in alto sono presenti delle barre con dei menù, mentre al centro vi è l'area di lavoro.



\subsection{Progettare una nuova applicazione} \label{sec:new}

\subsubsection{Creare un nuovo progetto}
Un diagramma delle classi vuoto rappresenta un nuovo progetto; in questo caso potete iniziare subito a progettare una nuova applicazione, saltando questo paragrafo e continuando al paragrafo \ref{par:arch}. Invece, nel caso abbiate un diagramma delle classi già popolato ma vogliate creare un nuovo progetto da zero, cliccate sull'icona del menù in alto a sinistra; dal menù a comparsa, cliccate su \click{New Project}; vi ritroverete con un diagramma delle classi vuoto, corrispondente ad un nuovo progetto.

\subsubsection{Progettare l'architettura dell'applicazione} \label{par:arch}
Progettare un'applicazione ad oggetti vuol dire innanzitutto specificarne l'architettura. Per fare ciò, dovete popolare il diagramma delle classi che si trova in centro alla pagina.

\paragraph{Creazione di una componente} Potete creare una nuova componente cliccando su un'icona del \textbf{menù di creazione} (visibile a sinistra); ci sono tre icone che rappresentano tre tipi di componente dell'architettura:
\begin{itemize}
	\item \click{Class};
	\item \click{Abtract Class};
	\item \click{Interface}.
\end{itemize}
Oltre a queste, altre icone permettono la creazione di commenti (l'icona \click{Annotation}) e di relazioni tra componenti (\click{Generalization}, \click{Implementation} e \click{Association}, che verranno introdotte tra poco).

\paragraph{Specifica dell'interfaccia di una componente} \label{par:inter} Ogni componente è rappresentata nel diagramma da un rettangolo con tre aree, come da standard UML:
\begin{enumerate}
	\item un area con il nome della componente;
	\item un area contenente i campi dati;
	\item un area contenente i metodi.
\end{enumerate}
Cliccando le aree dei campi dati o dei metodi, queste si espandono per mostrare il proprio contenuto. Inizialmente esse sono vuote. Per inserire un campo dati, fate doppio-click sulla classe; dopodiché:
\begin{enumerate}
	\item il \textbf{menù di dettaglio} (a destra) si riempirà con i dettagli della classe cliccata;
	\item cliccate su \click{Attributes} per far comparire l'elenco dei campi dati (attributi);
	\item vi verrà presentato l'elenco dei campi dati;
	\item scorrete in basso e cliccate \click{Add Attribute};
	\item compilate la form per i dettagli relativi al nuovo campo dati.
\end{enumerate}
Per inserire un metodo, fate doppio-click sulla classe; dopodiché:
\begin{enumerate}
	\item il menù di dettaglio (a destra) si riempirà con i dettagli della classe cliccata;
	\item cliccate su \click{Methods} per far comparire l'elenco dei metodi;
	\item vi verrà presentato l'elenco dei metodi;
	\item scorrete in basso e cliccate \click{Add Method};
	\item compilate la form per i dettagli relativi al nuovo metodo.
\end{enumerate}
Per modificare il comportamento di un metodo, si veda §\ref{sec:activity}.

\paragraph{Definizione di una relazione tra due componenti} È possibile definire una relazione tra due componenti del diagramma delle classi. Per fare questo, cercate il tipo di relazione desiderato nel menù di creazione (a sinistra) e cliccate sopra all'icona appropriata: apparirà nel diagramma una nuova freccia. Potete trascinare ognuna delle sue punte su una componente, stabilendo così una nuova relazione. Vi sono tre tipi di relazione:
\begin{itemize}
	\item \click{Generalization}, per estendere l'interfaccia di una classe;
	\item \click{Implementation}, per implementare un'interfaccia pura;
	\item \click{Association}. % ??
\end{itemize}

\paragraph{Modificare campi dati e metodi} Per modificare un campo dati o un metodo di una classe, fate doppio-click sulla classe; dopodiché:
\begin{enumerate}
	\item il menù di dettaglio (a destra) si riempirà con i dettagli della classe cliccata;
	\item cliccate su \click{Attributes} (per far comparire l'elenco dei campi dati) o su \click{Methods} (per far comparire l'elenco dei metodi);
	\item vi verrà presentato l'elenco dei campi dati o dei metodi, a seconda di ciò che avete cliccato;
	\item cercate il campo dati o metodo che volete modificare;
	\item modificate la form contenente i suoi dettagli.
\end{enumerate}


\subsubsection{Definire il comportamento delle componenti} \label{sec:activity}
Mentre la segnatura dei metodi di una classe definisce l'interfaccia della classe, l'implementazione dei metodi definisce il \textbf{comportamento} della classe. Quando avete chiaro quale dev'essere il comportamento di una vostra classe cercate la classe nel diagramma delle classi e fate doppio-click su di essa; dopodiché:
\begin{enumerate}
	\item il menù di dettaglio (a destra) si riempirà con i dettagli della classe cliccata;
	\item cliccate \click{Methods} per far comparire l'elenco dei metodi;
	\item compilate la form con la segnatura del metodo;
	\item in basso, cliccate \click{Go to Activity Diagram}.
\end{enumerate}
Al posto del diagramma delle classi, comparirà il \textbf{diagramma di attività} del metodo cliccato.

\paragraph{Creazione di blocchi} Ogni metodo è un algoritmo e, in quanto tale, per implementarlo dovete specificare la sequenza di passi che il metodo deve seguire. Ogni passo del metodo può essere una singola istruzione (come un'assegnazione) oppure un'istruzione composita (come un ciclo o un blocco condizionale). Ogni istruzione --- singola o composita --- è rappresentata da un \textbf{blocco}; la barra di creazione (a sinistra) offre diversi tipi di blocchi:
\begin{itemize}
	\item \click{Initialization} dichiara e inizializza una nuova variabile;
	\item \click{Assignment} assegna un valore ad una variabile già dichiarata;
	\item \click{Return} esce dal metodo e ritorna il valore specificato;
	\item \click{For} esegue ciclicamente una sequenza di blocchi (ogni iterazione del ciclo è parametrizzata su una variabile);
	\item \click{While} esegue ciclicamente una sequenza di blocchi finché vale una condizione;
	\item \click{If} esegue una sequenza di blocchi solo se vale una condizione.
\end{itemize}
Cliccando su uno dei blocchi nella barra di creazione, esso verrà inserito nella sequenza di passi del metodo. Ogni nuovo blocco su cui cliccherete  verrà inserito in coda ai blocchi precedentemente inseriti.

\paragraph{Spostamento di blocchi} Ovviamente potete spostare ogni blocco creato e posizionarlo dove volete nella sequenza di passi. Inoltre, potete decidere di inserire un blocco (di qualsiasi tipo) all'interno di un \click{For}, di un \click{While} o di un \click{If}: questi tre tipi di blocchi possono contenerne altri. Per rimarcare che un blocco sta all'interno di un altro, esso viene “indentato”, cioè spostato leggermente a destra rispetto al blocco che lo contiene.

\paragraph{Rimozione di blocchi} [...] % TODO come si fa?

\subsubsection{Modificare l'architettura}
Una volta modificata l'implementazione di un metodo, per modificare l'architettura dell'intera applicazione dovete tornare al diagramma delle classi. Per fare ciò, cliccate sul pulsante in basso a destra \click{Back to Class Diagram}. Il diagramma di attività modificato verrà salvato e al suo posto vi verrà presentato il diagramma delle classi.

Dal diagramma delle classi, potete modificare l'architettura dell'applicazione in vari modi: potete spostare o rimuovere ogni relazione tra componenti dell'applicazione e potete aggiungere o rimuovere componenti.



\subsection{Salvare il progetto} \label{sec:save} % aggiungere formato non .json ma speciale tipo .hx ?

Ad ogni momento, è possibile salvare i diagrammi disegnati nel proprio computer. Per salvare un progetto (cioè un insieme di diagrammi), cliccate sull'icona del menù (in alto a sinistra) e selezionate \click{Save} dalle voci del menù. Verrà avviato download di un singolo file: questo file rappresenta il vostro progetto e contiene tutte le informazioni sui diagrammi che avete disegnato.



\subsection{Caricare un progetto} \label{sec:load}

Se volete lavorare ad un progetto che avete precedentemente salvato, cliccate sull'icona del menù (in alto a sinistra) e selezionate \click{Load} dalle voci del menù. Il vostro browser vi chiederà di indicare quale file volete caricare: sceglietelo e cliccate \click{Ok}. \proj{} verrà popolato con i dati del file caricato. Potete ora continuare a lavorare sul progetto che avevate salvato e, eventualmente, salvarlo di nuovo.



\subsection{Generare un eseguibile dal progetto} \label{sec:gen}

Quando, infine, i diagrammi che avete disegnato vi sembreranno sufficienti, potrete generare da essi un programma eseguibile. Per fare questo, cliccate sull'icona del menù (in alto a sinistra) e selezionate \click{Generate} dalle voci del menù. Il vostro browser invierà una richiesta di generazione al nostro server. La risposta del server può essere positiva (vi viene inviato il codice eseguibile) o negativa. Quest'ultimo caso si può verificare per vari motivi; il più probabile è che non abbiate progettato bene la vostra applicazione. Se è così, pensate a modificare i vostri diagrammi e riprovate. Si veda §\ref{sec:mal_gen} per gestire bene una risposta negativa del server.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%  Risoluzione dei problemi
%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\section{Risoluzione dei problemi} \label{sec:problemi}

È possibile riscontrare dei problemi nei seguenti ambiti:
\begin{enumerate}
	\item durante l'esecuzione del programma generato;
	\item nel tentativo di accedere all'applicazione;
	\item nell'utilizzo dell'applicazione stessa.
\end{enumerate}



\subsection{Programma generato malfunzionante} \label{sec:mal_gen}

Può capitare che l'applicazione generata, mente la eseguite, si interrompa bruscamente a causa di un'eccezione o per qualche altro motivo. In questi casi la causa va ricercata principalmente nella progettazione dell'applicazione, cioè nel momento in cui voi avete disegnato i diagrammi dell'applicazione.

In particolare, possibili cause di malfunzionamento della vostra applicazione posso essere (dalla più probabile alla meno probabile):
\begin{itemize}
	\item avete omesso di gestire qualche eccezione;
	\item avete previsto un metodo ricorsivo che sopravvaluta la memoria della vostra macchina;
	\item avete inserito un “blocco custom” maligno nel diagramma di qualche metodo, cioè un'istruzione legittima che però interrompe la vostra applicazione;
	\item avete altrimenti introdotto qualche bug non segnalato in progettazione né in compilazione;
	\item avete trovato un bug in \proj.
\end{itemize}



\subsection{Accesso all'applicazione non possibile}

Può capitare (raramente) che non si riesca ad accedere all'indirizzo \url{\webroot}. In tal caso potete recarvi all'indirizzo \url{http://www.downforeveryoneorjustme.com} per verificare se il problema è relativo al vostro provider o al nostro server.



\subsection{Problemi con l'utilizzo di \proj}

È possibile che \proj{} contenga dei piccoli bug. Potete segnalare qualsiasi malfunzionamento all'indirizzo \url{https://github.com/hivex-unipd/swedesigner/issues}, sotto forma di \emph{GitHub issue}.


\end{document}
